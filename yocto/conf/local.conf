# Sample local.conf for Yocto build with APT support
#
# This file configures the build environment. Adjust paths, machine,
# and resource settings as needed.

# Set the target machine (e.g., qemux86-64 for x86-64 QEMU)
MACHINE ?= "qemux86-64"

# Enable parallel builds for faster compilation (adjust based on your CPU)
BB_NUMBER_THREADS = "4"
PARALLEL_MAKE = "-j 4"

# Use Debian package format so that .deb packages are generated.
PACKAGE_CLASSES = "package_deb"

# Add APT package into the image. This assumes an apt recipe is available.
IMAGE_INSTALL_append = " apt coreutils vim nano"


# Optionally, add extra features (for example, debug-tweaks for easier debugging)
EXTRA_IMAGE_FEATURES = "debug-tweaks"

# Define the image types to generate
IMAGE_FSTYPES = "iso"

# If you wish to use systemd as the init system:
DISTRO_FEATURES_append = " systemd"
VIRTUAL-RUNTIME_init_manager = "systemd"

# Directories for downloads, shared state cache, and temporary files.
DL_DIR ?= "${TOPDIR}/downloads"
SSTATE_DIR ?= "${TOPDIR}/sstate-cache"
TMPDIR ?= "${TOPDIR}/tmp"

# Clean up work directories after building to conserve disk space.
INHERIT += "rm_work"

# Additional customizations and overrides can be added below.
